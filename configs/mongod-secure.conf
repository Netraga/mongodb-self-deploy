# MongoDB configuration file for production use with authentication
# Replace YOUR_DOMAIN with your actual FQDN

# Where and how to store data
storage:
  dbPath: /var/lib/mongodb
  engine: wiredTiger
  wiredTiger:
    engineConfig:
      cacheSizeGB: 2

# Where to write logging data
systemLog:
  destination: file
  logAppend: true
  path: /var/log/mongodb/mongod.log
  logRotate: reopen
  verbosity: 0
  quiet: false
  component:
    accessControl:
      verbosity: 0
    command:
      verbosity: 0

# Network interfaces
net:
  port: 27017
  bindIp: 127.0.0.1,YOUR_DOMAIN.example.com
  maxIncomingConnections: 65536
  
# Process management
processManagement:
  timeZoneInfo: /usr/share/zoneinfo
  fork: true
  pidFilePath: /var/run/mongodb/mongod.pid

# Security - ENABLED
security:
  authorization: enabled
  javascriptEnabled: true
  # Uncomment for replica set authentication
  #keyFile: /etc/mongodb-keyfile

# Operation profiling
operationProfiling:
  mode: off
  slowOpThresholdMs: 100

# Replication (uncomment if setting up replica set)
#replication:
#  replSetName: "rs0"

# Sharding (uncomment if setting up sharding)
#sharding:
#  clusterRole: shardsvr

# Set parameter options
setParameter:
  enableLocalhostAuthBypass: false
  authenticationMechanisms: SCRAM-SHA-256